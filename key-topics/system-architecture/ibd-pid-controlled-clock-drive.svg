<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' contentScriptType='application/ecmascript' contentStyleType='text/css' height='419px' preserveAspectRatio='none' style='width:2041px;height:419px;' version='1.1' viewBox='0 0 2041 419' width='2041px' zoomAndPan='magnify'>
  <defs>
    <filter height='300%' id='ff5jc00yhsza3' width='300%' x='-1' y='-1'>
      <feGaussianBlur result='blurOut' stdDeviation='2.0'/>
      <feColorMatrix in='blurOut' result='blurOut2' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0'/>
      <feOffset dx='4.0' dy='4.0' in='blurOut2' result='blurOut3'/>
      <feBlend in='SourceGraphic' in2='blurOut3' mode='normal'/>
    </filter>
  </defs>
  <g>
    <!--MD5=[210d5ed7a3b98e841174e0e22ae10cdb]
cluster ibd [System] PID-Controlled Clock Drive [Data Flow] ]-->
    <rect fill='#FFFFFF' filter='url(#ff5jc00yhsza3)' height='377' style='stroke: #000000; stroke-width: 1.5;' width='2006' x='14' y='16'/>
    <path d='M414,17 L414,25.29 L404,35.29 L14,35.29 ' fill='none' style='stroke: #000000; stroke-width: 1.5;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='390' x='17' y='30.3369'>
      ibd [System] PID-Controlled Clock Drive [Data Flow] ]
    </text>
    <!--MD5=[b3b444921c8b4ce57d1ac277af47b801]
cluster G-->
    <rect fill='#FFFFFF' filter='url(#ff5jc00yhsza3)' height='316' style='stroke: #000000; stroke-width: 1.5;' width='1078' x='320' y='43'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-style='italic' lengthAdjust='spacingAndGlyphs' textLength='120' x='799' y='58.3027'>
      «microcontroller»
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='103' x='807.5' y='74.627'>
      PID Controller
    </text>
    <!--MD5=[4257423e334641e537ffa92160115f43]
cluster H-->
    <rect fill='#FFFFFF' filter='url(#ff5jc00yhsza3)' height='213' style='stroke: #000000; stroke-width: 1.5;' width='159' x='1853' y='88'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='143' x='1861' y='103.3369'>
      Motor Drive System
    </text>
    <!--MD5=[fe438d1f4f8e9d5c7b4fbab750bc347c]
entity rtc-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='183' x='22' y='43'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='17' y='48'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='17' y='69.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='163' x='32' y='66.3369'>
      Real Time Clock (RTC)
    </text>
    <!--MD5=[91d9cb3fe8da25a9d94a8d1c8a5537e3]
entity serial_bus_rtc-->
    <ellipse cx='113.5' cy='140' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='71' x='78' y='170.3369'>
      Serial Bus
    </text>
    <!--MD5=[00179af9bc14e048fef3c02ab7970256]
entity pwm-->
    <ellipse cx='1652' cy='131' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='140' x='1582' y='161.3369'>
      Motor Speed (PWM)
    </text>
    <!--MD5=[be730da0fa030af7835659de9639f112]
entity ra-->
    <ellipse cx='1932.5' cy='337' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='194' x='1835.5' y='367.3369'>
      Right Ascension (RA) Shaft
    </text>
    <!--MD5=[95aea0a53efb618fc569ece1197781df]
entity encoder-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='129' x='1587.5' y='320'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1582.5' y='325'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1582.5' y='346.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='109' x='1597.5' y='343.3369'>
      Rotory Encoder
    </text>
    <!--MD5=[bc4a969ff08a2eaa91c6da3075656cca]
entity serial_bus_encoder-->
    <ellipse cx='1280' cy='376' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='71' x='1244.5' y='406.3369'>
      Serial bus
    </text>
    <!--MD5=[01ef136a8cd3f2d1aeb5d71059498911]
entity serial_read_rtc-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='180' x='355' y='86'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='350' y='91'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='350' y='112.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='160' x='365' y='109.3369'>
      t = serial.read(rtc_pin)
    </text>
    <!--MD5=[cc4c567705907bcfd41ffb3d7ff8b844]
entity theta_r-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='234' x='328' y='157'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='323' y='162'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='323' y='183.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='214' x='338' y='180.3369'>
      Reference Angle, theta_r(t-t0)
    </text>
    <!--MD5=[e32773a0da76c445e84e5885468a4484]
entity e-->
    <ellipse cx='445' cy='254' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='51' x='419.5' y='284.3369'>
      error, e
    </text>
    <!--MD5=[7d46d6cd919e02e6168a09ad91eae8b4]
entity u-->
    <ellipse cx='1280' cy='192' fill='#FEFECE' filter='url(#ff5jc00yhsza3)' rx='8' ry='8' style='stroke: #A80036; stroke-width: 2.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='133' x='1213.5' y='222.3369'>
      Control variable, u
    </text>
    <!--MD5=[e36a11a12b620da16044f2fd4cd93201]
entity pwm_gen-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='109' x='1225.5' y='112'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1220.5' y='117'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1220.5' y='138.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='89' x='1235.5' y='135.3369'>
      pwm.duty(u)
    </text>
    <!--MD5=[c05673ed0df25619424a6f9de288c317]
entity serial_read_encoder-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='220' x='1170' y='296'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1165' y='301'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1165' y='322.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='200' x='1180' y='319.3369'>
      n = serial.read(encoder_pin)
    </text>
    <!--MD5=[ed3f4e453fd7f496a8f255d1c0b67525]
entity theta-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='181' x='354.5' y='315'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='349.5' y='320'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='349.5' y='341.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='161' x='364.5' y='338.3369'>
      Output Angle, theta(n)
    </text>
    <!--MD5=[be5750da26e06623bc49653cefaf97c7]
entity p-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='71' x='825' y='252'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='820' y='257'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='820' y='278.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='51' x='835' y='275.3369'>
      K_p * e
    </text>
    <!--MD5=[c807758c2e9e0d1754c3d4b69a0f6713]
entity i-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='98' x='811.5' y='181'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='806.5' y='186'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='806.5' y='207.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='78' x='821.5' y='204.3369'>
      K_i * de*dt
    </text>
    <!--MD5=[011db1d27274c86691871bc51b12beb8]
entity d-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='103' x='809' y='110'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='804' y='115'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='804' y='136.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='83' x='819' y='133.3369'>
      K_d * de/dt
    </text>
    <!--MD5=[21b7ecfcf7fc031bbfae6c4dcbc60101]
entity drive-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='105' x='1880' y='115'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1875' y='120'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1875' y='141.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='85' x='1890' y='138.3369'>
      motor drive
    </text>
    <!--MD5=[8d6760d652c677979d4712a0f3854444]
entity motor-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='64' x='1900.5' y='186'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1895.5' y='191'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1895.5' y='212.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='44' x='1910.5' y='209.3369'>
      motor
    </text>
    <!--MD5=[2088bddee7b207db8f57d8431ec125a1]
entity gearbox-->
    <rect fill='#FEFECE' filter='url(#ff5jc00yhsza3)' height='36.29' style='stroke: #A80036; stroke-width: 1.5;' width='77' x='1894' y='257'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1889' y='262'/>
    <rect fill='#FEFECE' height='5' style='stroke: #A80036; stroke-width: 1.5;' width='10' x='1889' y='283.29'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='57' x='1904' y='280.3369'>
      gearbox
    </text>
    <!--MD5=[5ba437009d88a482ad156e6fbc9375f0]
reverse link e to theta_r-->
    <path d='M445,239.7712 C445,226.733 445,207.3624 445,193.2017 ' fill='none' id='e&lt;-theta_r' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='445,244.9377,449,235.9377,445,239.9377,441,235.9377,445,244.9377' style='stroke: #A80036; stroke-width: 1.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='10' x='428.5' y='223.8525'>
      +
    </text>
    <!--MD5=[c4367ad9f45d960972e7542a6a912add]
link e to p-->
    <path d='M454.0972,254.4077 C490.4721,256.038 623.5,262 623.5,262 C623.5,262 623.5,262 747.5,262 C747.5,262 787.2714,264.8157 819.6245,267.1062 ' fill='none' id='e-&gt;p' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='824.7461,267.4687,816.0511,262.843,819.7586,267.1156,815.4861,270.8231,824.7461,267.4687' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[a185da4cb047bb69466c81d1f9f92ad2]
link e to i-->
    <path d='M454.0972,251.6556 C490.4721,242.2817 623.5,208 623.5,208 C623.5,208 623.5,208 747.5,208 C747.5,208 777.27,205.6289 806.2496,203.3208 ' fill='none' id='e-&gt;i' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='811.2653,202.9213,801.9761,199.6485,806.2811,203.3183,802.6113,207.6233,811.2653,202.9213' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[e242a9fb4540aaf3741aa3229240ce97]
link e to d-->
    <path d='M454.1808,250.5474 C481.7625,240.1748 562,210 562,210 C562,210 623.5,137 623.5,137 C623.5,137 623.5,137 747.5,137 C747.5,137 775.5564,134.7654 803.709,132.5232 ' fill='none' id='e-&gt;d' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='808.9601,132.1049,799.6708,128.8324,803.9759,132.502,800.3062,136.8071,808.9601,132.1049' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[612215d5b06a51f8bcf4a4eadfbee5b8]
link p to u-->
    <path d='M896.2539,272.5312 C929.3594,274.875 973.5,278 973.5,278 C973.5,278 973.5,278 1108.5,278 C1108.5,278 1225.4553,219.3519 1266.2012,198.9195 ' fill='none' id='p-&gt;u' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1270.7794,196.6237,1260.9412,197.0824,1266.3099,198.865,1264.5273,204.2336,1270.7794,196.6237' style='stroke: #A80036; stroke-width: 1.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='10' x='1036' y='274.3525'>
      +
    </text>
    <!--MD5=[4fb6e00de6d63d7bacb858425dac4551]
link i to u-->
    <path d='M909.7347,195.5144 C940.1859,193.3585 973.5,191 973.5,191 C973.5,191 973.5,191 1108.5,191 C1108.5,191 1224.5064,191.6764 1265.7005,191.9166 ' fill='none' id='i-&gt;u' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1270.7794,191.9462,1261.8029,187.8938,1265.7795,191.9171,1261.7562,195.8937,1270.7794,191.9462' style='stroke: #A80036; stroke-width: 1.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='10' x='1036' y='187.3525'>
      +
    </text>
    <!--MD5=[71a63e2c05af7b0bc37f889eaddfd503]
link d to u-->
    <path d='M912.0399,117.0535 C941.8425,110.7237 973.5,104 973.5,104 C973.5,104 973.5,104 1108.5,104 C1108.5,104 1170,165 1170,165 C1170,165 1236.2265,181.2556 1265.906,188.5406 ' fill='none' id='d-&gt;u' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1270.9982,189.7905,1263.2113,183.7602,1266.1424,188.5985,1261.3041,191.5296,1270.9982,189.7905' style='stroke: #A80036; stroke-width: 1.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='10' x='1036' y='100.3525'>
      +
    </text>
    <!--MD5=[773f693c59583fb39ecd6e922ba1fe22]
link u to pwm_gen-->
    <path d='M1280,182.6342 C1280,177.166 1280,171.3333 1280,171.3333 C1280,171.3333 1280,160.1877 1280,153.2629 ' fill='none' id='u-&gt;pwm_gen' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1280,148.1325,1276,157.1325,1280,153.1325,1284,157.1325,1280,148.1325' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[55e9cd31b940c1ac06d889e09b6043ee]
reverse link theta_r to serial_read_rtc-->
    <path d='M445,151.7441 C445,151.4778 445,151.3333 445,151.3333 C445,151.3333 445,127.6667 445,127.6667 C445,127.6667 445,125.3555 445,122.1776 ' fill='none' id='theta_r&lt;-serial_read_rtc' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='445,156.8224,449,147.8224,445,151.8224,441,147.8224,445,156.8224' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[12105290172d9494048af6b8d30668b1]
link theta to e-->
    <path d='M445,314.6772 C445,300.6383 445,281.5323 445,268.5358 ' fill='none' id='theta-&gt;e' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='445,263.3726,441,272.3726,445,268.3726,449,272.3726,445,263.3726' style='stroke: #A80036; stroke-width: 1.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='8' x='429.5' y='293.8525'>
      -
    </text>
    <!--MD5=[16a32cc78219c0a40a5684040984b20d]
reverse link theta to serial_read_encoder-->
    <path d='M540.7307,341.5809 C583.0941,345.3782 623.5,349 623.5,349 C623.5,349 623.5,349 1108.5,349 C1108.5,349 1170,336 1170,336 C1170,336 1178.1074,334.3785 1189.9202,332.016 ' fill='none' id='theta&lt;-serial_read_encoder' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='535.5573,341.1172,544.1642,345.9048,540.5373,341.5636,544.8785,337.9367,535.5573,341.1172' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[8805fedeee4c6cc35145965b3921f244]
link serial_bus_rtc to rtc-->
    <path d='M113.5,130.9377 C113.5,118.3738 113.5,95.3853 113.5,79.2017 ' fill='none' id='serial_bus_rtc-rtc' style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='60' x='72' y='109.8525'>
      «SPI/I2C»
    </text>
    <!--MD5=[7ebdfb376876873fee62cb9383076377]
link serial_bus_rtc to serial_read_rtc-->
    <path d='M122.7122,138.9996 C155.8608,135.3997 271.5063,122.8409 354.7874,113.7968 ' fill='none' id='serial_bus_rtc-serial_read_rtc' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[0812df24127a64610885a8247f2d063c]
link pwm_gen to pwm-->
    <path d='M1334.8899,130.1476 C1422.2678,130.3824 1588.1886,130.8285 1637.7046,130.9616 ' fill='none' id='pwm_gen-&gt;pwm' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1642.8997,130.9755,1633.9106,126.9511,1637.8997,130.9619,1633.8889,134.9511,1642.8997,130.9755' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[752c72a1e0e286e88fd7aaaa3778ced5]
reverse link motor to drive-->
    <path d='M1932.5,180.7441 C1932.5,180.4778 1932.5,180.3333 1932.5,180.3333 C1932.5,180.3333 1932.5,156.6667 1932.5,156.6667 C1932.5,156.6667 1932.5,154.3555 1932.5,151.1776 ' fill='none' id='motor&lt;-drive' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1932.5,185.8224,1936.5,176.8224,1932.5,180.8224,1928.5,176.8224,1932.5,185.8224' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[438850e27b210e28590b2b601a50b320]
reverse link gearbox to motor-->
    <path d='M1932.5,251.7441 C1932.5,251.4778 1932.5,251.3333 1932.5,251.3333 C1932.5,251.3333 1932.5,227.6667 1932.5,227.6667 C1932.5,227.6667 1932.5,225.3555 1932.5,222.1776 ' fill='none' id='gearbox&lt;-motor' style='stroke: #A80036; stroke-width: 1.0;'/>
    <polygon fill='#A80036' points='1932.5,256.8224,1936.5,247.8224,1932.5,251.8224,1928.5,247.8224,1932.5,256.8224' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[397e8682bd16cc05f570c8ea6c4810cf]
link pwm to drive-->
    <path d='M1661.015,131.0643 C1693.2765,131.2943 1804.761,132.0892 1874.4347,132.586 ' fill='none' id='pwm-&gt;drive' style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;'/>
    <polygon fill='#A80036' points='1879.7928,132.6242,1870.8216,128.56,1874.7929,132.5885,1870.7645,136.5598,1879.7928,132.6242' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[6808d634b72dd6a2921f7200cd964c2b]
reverse link ra to gearbox-->
    <path d='M1932.5,322.5901 C1932.5,319.0902 1932.5,316.3333 1932.5,316.3333 C1932.5,316.3333 1932.5,295.6667 1932.5,295.6667 C1932.5,295.6667 1932.5,294.6777 1932.5,293.1325 ' fill='none' id='ra&lt;-gearbox' style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;'/>
    <polygon fill='#A80036' points='1932.5,327.6342,1936.5,318.6342,1932.5,322.6342,1928.5,318.6342,1932.5,327.6342' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[f474ad76e4c9f02b797d5cea3ad4a08e]
reverse link encoder to ra-->
    <path d='M1722.0958,337.7501 C1791.9128,337.5012 1892.9689,337.1409 1923.4603,337.0322 ' fill='none' id='encoder&lt;-ra' style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;'/>
    <polygon fill='#A80036' points='1716.7046,337.7693,1725.7188,341.7371,1721.7046,337.7514,1725.6903,333.7372,1716.7046,337.7693' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[39ca404df132807ba61dfd1ec51ead3e]
link serial_bus_encoder to serial_read_encoder-->
    <path d='M1280,366.6342 C1280,361.166 1280,355.3333 1280,355.3333 C1280,355.3333 1280,334.6667 1280,334.6667 C1280,334.6667 1280,333.6777 1280,332.1325 ' fill='none' id='serial_bus_encoder-serial_read_encoder' style='stroke: #A80036; stroke-width: 1.0;'/>
    <!--MD5=[433bbeae210b26b3d52d53e50919ac58]
link serial_bus_encoder to encoder-->
    <path d='M1289.1956,375.0607 C1329.6978,370.9233 1494.2908,354.1101 1587.2557,344.6137 ' fill='none' id='serial_bus_encoder-encoder' style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacingAndGlyphs' textLength='60' x='1452' y='349.3525'>
      «SPI/I2C»
    </text>
    <!--MD5=[a07107897b365108431c1ddae6fe1c94]
@startuml
left to right direction
skinparam linetype polyline

frame "ibd [System] PID-Controlled Clock Drive [Data Flow] ]" {

  component "<b>Real Time Clock (RTC)</b>" as rtc

  rectangle "<b>PID Controller</b>" <<microcontroller>> as G {
left to right direction
skinparam linetype polyline

component "<b>t = serial.read(rtc_pin)</b>" as serial_read_rtc
component "<b>Reference Angle, theta_r(t-t0)</b>" as theta_r

interface "<b>error, e</b>" as e
together {
  component "<b>K_p * e</b>" as p
  component "<b>K_i * de*dt</b>" as i
  component "<b>K_d * de/dt</b>" as d
}

e <- theta_r : +

e - -> p
e - -> i
e - -> d

interface "<b>Control variable, u</b>" as u
p - -> u : +
i - -> u : +
d - -> u : +

component "<b>pwm.duty(u)</b>" as pwm_gen
u -> pwm_gen

component "<b>n = serial.read(encoder_pin)</b>" as serial_read_encoder
component "<b>Output Angle, theta(n)</b>" as theta

theta_r <- serial_read_rtc
theta -> e : -
theta <- - - serial_read_encoder

  }

  interface "<b>Serial Bus</b>" as serial_bus_rtc
  serial_bus_rtc . rtc : <<SPI/I2C>>
  serial_bus_rtc - - serial_read_rtc

  interface "<b>Motor Speed (PWM)</b>" as pwm
  pwm_gen - -> pwm

  rectangle "<b>Motor Drive System</b>" as H {
    component "<b>motor drive</b>" as drive
    component "<b>motor</b>" as motor
    component "<b>gearbox</b>" as gearbox
    motor <- drive
    gearbox <- motor
  }

  pwm ..> drive

  interface "<b>Right Ascension (RA) Shaft</b>" as ra
  component "<b>Rotory Encoder</b>" as encoder
  interface "<b>Serial bus</b>" as serial_bus_encoder

  ra <. gearbox
  encoder <.. ra

  serial_bus_encoder - serial_read_encoder
  serial_bus_encoder .. encoder : <<SPI/I2C>>
}
@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
-->
  </g>
</svg>